version: '3.4'

services:
  promitor.agents.resourcediscovery:
    image: tomkerkhove/promitor-agent-resource-discovery
    build:
      context: .
      dockerfile: Promitor.Agents.ResourceDiscovery/Dockerfile.linux
      args:
        VERSION: 0.1.2
    volumes:
      - ./../config/promitor/resource-discovery/resource-discovery-declaration.yaml:/config/resource-discovery-declaration.yaml
      - ./../config/promitor/resource-discovery/runtime.yaml:/config/runtime.yaml
  promitor.agents.scraper:
    image: tomkerkhove/promitor-agent-scraper
    build:
      context: .
      dockerfile: Promitor.Agents.Scraper/Dockerfile.linux
      args:
        VERSION: 0.1.2
    volumes:
      - ./../config/promitor/scraper/metrics.yaml:/config/metrics-declaration.yaml
      - ./../config/promitor/scraper/runtime.yaml:/config/runtime.yaml
